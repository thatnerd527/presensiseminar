this.document={currentScript:{src:this.location.href}},function(){"use strict";onmessage=function(e){switch(console.log("Worker: Message received from main script"),e.data.cmd){case"start":this.postMessage({requestid:e.data.requestid,result:"Worker started"});break;case"stop":this.postMessage({requestid:e.data.requestid,result:"Worker stopped"}),this.close();break;case"search":let r=e.data.repo,s=e.data.searchby,a=e.data.search,i=r.filter(t=>{if(s=="NIM")return t.nim.includes(a);if(s=="Nama")return t.nama.toLowerCase().includes(a.toLowerCase());if(s=="Email")return t.email.toLowerCase().includes(a.toLowerCase())});this.postMessage({requestid:e.data.requestid,result:i});break;case"getnotabsent":let o=e.data.repo,d=e.data.present,u=o.filter(t=>!d.includes(t.nim));this.postMessage({requestid:e.data.requestid,result:u});break;default:this.postMessage({requestid:e.data.requestid,result:"Unknown command"})}}}();
